<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘ | CHENã®åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å‰è¨€æ˜¨å¤©å†™äº†ä¸€ç¯‡ JavaScript å°æ•°ç²¾åº¦é‡åˆ°çš„å‘ (ä¼ é€é—¨)ï¼Œä»Šå¤©åˆå†™ä¸€ç¯‡å¡«å‘å¿ƒå¾—ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå‘å°±æ˜¯è¿™ä¹ˆå¤šã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼ŒElement-UI çš„ BUG æ˜¯çœŸçš„æœ‰ç‚¹å¤šå•Šï¼Œç‰¹åˆ«æ˜¯ 1.x ç‰ˆæœ¬ï¼Œç„¶è€Œç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬é¡¹ç›®è¿˜åœ¨ç”¨ 1.x ç‰ˆæœ¬ğŸ˜ğŸ˜ğŸ˜ã€‚ å‘ç°é—®é¢˜ç°åœ¨å¼€å§‹è¿›å…¥æ­£é¢˜ï¼Œè¯´ä¸‹å¦‚ä½•å…¥å‘çš„ï¼Œæœ‰2ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¸‹é¢æœ‰ä¸€ä¸ªè¡¨æ ¼å±•ç¤ºæ•°æ®ï¼Œå¯ä»¥åˆ‡æ¢é¡¶éƒ¨çš„æ ‡ç­¾æ¥åˆ‡æ¢æ˜¾ç¤ºå“ªä¸€ä¸ªè¡¨æ ¼ã€‚">
<meta name="keywords" content="Element-UI,è¸©å‘">
<meta property="og:type" content="article">
<meta property="og:title" content="Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘">
<meta property="og:url" content="https://peakchen90.github.io/2018/04/28/Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘/index.html">
<meta property="og:site_name" content="CHENã®åšå®¢">
<meta property="og:description" content="å‰è¨€æ˜¨å¤©å†™äº†ä¸€ç¯‡ JavaScript å°æ•°ç²¾åº¦é‡åˆ°çš„å‘ (ä¼ é€é—¨)ï¼Œä»Šå¤©åˆå†™ä¸€ç¯‡å¡«å‘å¿ƒå¾—ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå‘å°±æ˜¯è¿™ä¹ˆå¤šã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼ŒElement-UI çš„ BUG æ˜¯çœŸçš„æœ‰ç‚¹å¤šå•Šï¼Œç‰¹åˆ«æ˜¯ 1.x ç‰ˆæœ¬ï¼Œç„¶è€Œç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬é¡¹ç›®è¿˜åœ¨ç”¨ 1.x ç‰ˆæœ¬ğŸ˜ğŸ˜ğŸ˜ã€‚ å‘ç°é—®é¢˜ç°åœ¨å¼€å§‹è¿›å…¥æ­£é¢˜ï¼Œè¯´ä¸‹å¦‚ä½•å…¥å‘çš„ï¼Œæœ‰2ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¸‹é¢æœ‰ä¸€ä¸ªè¡¨æ ¼å±•ç¤ºæ•°æ®ï¼Œå¯ä»¥åˆ‡æ¢é¡¶éƒ¨çš„æ ‡ç­¾æ¥åˆ‡æ¢æ˜¾ç¤ºå“ªä¸€ä¸ªè¡¨æ ¼ã€‚">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://peakchen90.github.io/images/pit.jpg">
<meta property="og:updated_time" content="2018-05-22T03:21:33.382Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘">
<meta name="twitter:description" content="å‰è¨€æ˜¨å¤©å†™äº†ä¸€ç¯‡ JavaScript å°æ•°ç²¾åº¦é‡åˆ°çš„å‘ (ä¼ é€é—¨)ï¼Œä»Šå¤©åˆå†™ä¸€ç¯‡å¡«å‘å¿ƒå¾—ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå‘å°±æ˜¯è¿™ä¹ˆå¤šã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼ŒElement-UI çš„ BUG æ˜¯çœŸçš„æœ‰ç‚¹å¤šå•Šï¼Œç‰¹åˆ«æ˜¯ 1.x ç‰ˆæœ¬ï¼Œç„¶è€Œç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬é¡¹ç›®è¿˜åœ¨ç”¨ 1.x ç‰ˆæœ¬ğŸ˜ğŸ˜ğŸ˜ã€‚ å‘ç°é—®é¢˜ç°åœ¨å¼€å§‹è¿›å…¥æ­£é¢˜ï¼Œè¯´ä¸‹å¦‚ä½•å…¥å‘çš„ï¼Œæœ‰2ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¸‹é¢æœ‰ä¸€ä¸ªè¡¨æ ¼å±•ç¤ºæ•°æ®ï¼Œå¯ä»¥åˆ‡æ¢é¡¶éƒ¨çš„æ ‡ç­¾æ¥åˆ‡æ¢æ˜¾ç¤ºå“ªä¸€ä¸ªè¡¨æ ¼ã€‚">
<meta name="twitter:image" content="https://peakchen90.github.io/images/pit.jpg">
  
    <link rel="alternative" href="/atom.xml" title="CHENã®åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/logo.jpg">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <section id="main"><article id="post-Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2018/04/28/Element-UIå¡«å‘â€”â€”el-tabsä¸el-tableåµŒå¥—ä½¿ç”¨çš„å‘/" class="article-date">
  <time datetime="2018-04-28T02:08:50.000Z" itemprop="datePublished">2018-04-28</time>
</a>
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/images/pit.jpg" alt=""></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ˜¨å¤©å†™äº†ä¸€ç¯‡ JavaScript å°æ•°ç²¾åº¦é‡åˆ°çš„å‘ (<a href="/2018/04/27/JavaScriptå°æ•°ç²¾åº¦å¡«å‘/">ä¼ é€é—¨</a>)ï¼Œä»Šå¤©åˆå†™ä¸€ç¯‡å¡«å‘å¿ƒå¾—ï¼Œåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå‘å°±æ˜¯è¿™ä¹ˆå¤šã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œ<a href="http://element.eleme.io/" target="_blank" rel="noopener">Element-UI</a> çš„ BUG æ˜¯çœŸçš„æœ‰ç‚¹å¤šå•Šï¼Œç‰¹åˆ«æ˜¯ 1.x ç‰ˆæœ¬ï¼Œç„¶è€Œç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬é¡¹ç›®è¿˜åœ¨ç”¨ 1.x ç‰ˆæœ¬ğŸ˜ğŸ˜ğŸ˜ã€‚</p>
<h2 id="å‘ç°é—®é¢˜"><a href="#å‘ç°é—®é¢˜" class="headerlink" title="å‘ç°é—®é¢˜"></a>å‘ç°é—®é¢˜</h2><p>ç°åœ¨å¼€å§‹è¿›å…¥æ­£é¢˜ï¼Œè¯´ä¸‹å¦‚ä½•å…¥å‘çš„ï¼Œæœ‰2ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¸‹é¢æœ‰ä¸€ä¸ªè¡¨æ ¼å±•ç¤ºæ•°æ®ï¼Œå¯ä»¥åˆ‡æ¢é¡¶éƒ¨çš„æ ‡ç­¾æ¥åˆ‡æ¢æ˜¾ç¤ºå“ªä¸€ä¸ªè¡¨æ ¼ã€‚ç”¨ <code>el-tabs</code> å’Œ <code>el-table</code> ä¸¤ä¸ªç»„ä»¶åµŒå¥—å°±å¯ä»¥æå®šï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ğŸ˜Šã€‚å¯æ˜¯æµ‹è¯•çš„æ—¶å€™å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“é‡æ–°åŠ è½½æ•°æ®æ—¶ï¼Œéšè—çš„é‚£ä¸ªæ ‡ç­¾é¡µä¸‹é¢çš„è¡¨æ ¼ <code>body</code> éƒ¨åˆ†é«˜åº¦ä¸çŸ¥ä¸ºå•¥æ¶ˆå¤±äº†ã€‚ç”¨è°ƒè¯•å·¥å…·æŸ¥çœ‹å…ƒç´ æ—¶ï¼Œå‘ç°è¡¨æ ¼ <code>.el-table__body-wrapper</code> è¿™ä¸ªå…ƒç´ æœ‰ä¸ªå†…è”æ ·å¼ <code>height: 1px</code>ï¼Œè¿™ä¸€çœ‹å°±æ˜¯ Element-UI æ¡†æ¶è®¡ç®—å‡ºæ¥çš„é«˜åº¦ï¼Œäºæ˜¯å°±å‘è¿™ä¸ªæ–¹å‘å»æ’æŸ¥ã€‚</p>
<a id="more"></a>
<h2 id="å¦‚ä½•è§£å†³ï¼Ÿ"><a href="#å¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§£å†³ï¼Ÿ"></a>å¦‚ä½•è§£å†³ï¼Ÿ</h2><p>æ—¢ç„¶æœ‰äº†æ–¹å‘ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿå½“ç„¶æ˜¯å»çœ‹æºç äº†ï¼Œæˆ‘æ˜¯è‡ªå·±åœ¨æœ¬åœ°çš„ node_modules ç›®å½•ä¸‹é¢çœ‹çš„ï¼Œå°±åœ¨ <code>/node_modules/element-ui/packages/table</code> è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œç„¶åçœ‹ <code>index.js</code> é‡Œé¢å¼•ç”¨çš„æ˜¯ <code>&#39;src/table&#39;</code>ï¼Œé‚£å°±ä» <code>src/table.vue</code> (<a href="https://github.com/ElemeFE/element/blob/1.x/packages/table/src/table.vue" target="_blank" rel="noopener">æºç ä¼ é€é—¨</a>) è¿™ä¸ªç»„ä»¶å¼€å§‹çœ‹å§ã€‚</p>
<p>ç”±äºä¹‹å‰å·²ç»å‘ç°äº† <code>.el-table__body-wrapper</code> è¿™ä¸ªå…ƒç´ çš„å†…è”æ ·å¼è®¡ç®—æœ‰é—®é¢˜ï¼Œæ‰€ä»¥ç›´æ¥æ‰¾åˆ° <code>&lt;template&gt;</code> çš„<a href="https://github.com/ElemeFE/element/blob/1.x/packages/table/src/table.vue#L22" target="_blank" rel="noopener">è¿™ä¸ªå…ƒç´ </a>ï¼Œå‘ç°æœç„¶æœ‰ä¸ªåŠ¨æ€ç»‘å®šçš„æ ·å¼ <code>bodyHeight</code>ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>Vue</code> çš„è®¡ç®—å±æ€§ <code>bodyHeight</code> (<a href="https://github.com/ElemeFE/element/blob/1.x/packages/table/src/table.vue#L336" target="_blank" rel="noopener">æºç ä¼ é€é—¨</a>)ã€‚ç®€å•çš„åˆ†æä¹‹åï¼Œå‘ç°é«˜åº¦çš„è®¡ç®—éƒ½ä¸ <code>this.layout</code> è¿™ä¸ªå¯¹è±¡ç›¸å…³ï¼Œäºæ˜¯ï¼Œæˆ‘å°†ç›®æ ‡è½¬åˆ° <code>this.layout</code> ä¸Šé¢ã€‚</p>
<p>ç»§ç»­åˆ†æ <code>this.layout</code>ï¼Œè¿™æ˜¯ç”± <code>TableLayout</code> ç±» (<a href="https://github.com/ElemeFE/element/blob/1.x/packages/table/src/table-layout.js" target="_blank" rel="noopener">æºç ä¼ é€é—¨</a>) å®ä¾‹åŒ–å‡ºæ¥çš„ä¸€ä¸ªå¯¹è±¡ã€‚å†ç»“åˆä¹‹å‰è®¡ç®—é«˜åº¦çš„åœ°æ–¹å¼•ç”¨äº† <code>this.layout.bodyHeight</code>ï¼Œæ‰€ä»¥ç›´æ¥æœç´¢ <code>bodyHeight</code>ï¼Œå‘ç°éƒ½åœ¨è¿™ä¸ªç±»çš„ <code>updateHeight</code> æ–¹æ³•é‡Œã€‚å¤§è‡´çœ‹äº†ä¸‹è¿™ä¸ªæ–¹æ³•çš„ä»£ç ï¼Œå°±æ˜¯é€šè¿‡è·å–ä¸€äº›å…ƒç´ çš„é«˜åº¦ï¼Œè¿›è¡Œä¸€äº›è®¡ç®—çš„æ“ä½œï¼ˆè¯´äº†è·Ÿæ²¡è¯´ä¸€æ ·ğŸ˜ï¼‰ï¼Œåæ­£çœ‹ä¸å‡ºæ¥æœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p>
<h2 id="æ‰€ä»¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ"><a href="#æ‰€ä»¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="æ‰€ä»¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ"></a>æ‰€ä»¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</h2><p>å¥½åƒç¢°åˆ°ç“¶é¢ˆäº†ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯æ–­ç‚¹è°ƒè¯•å‘—ï¼Œè¿™æ˜¯åœ¨ node_modules ç›®å½•ä¸‹çš„ï¼Œæ€ä¹ˆæ–­ç‚¹ï¼Ÿæˆ‘çš„è§£å†³åŠæ³•å°±æ˜¯ç»§æ‰¿ <code>el-table</code> ç»„ä»¶ï¼Œç„¶ååœ¨ Vue ç”Ÿå‘½å‘¨æœŸçš„ <code>created</code> æ–¹æ³•é‡Œé¢è¦†ç›– <code>this.layout</code> çš„å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// my-table.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> ElTable <span class="keyword">from</span> <span class="string">'element-ui/lib/table'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡ŒæŠŠ table-layout.js å¤åˆ¶è¿‡æ¥ï¼Œåœ¨ updateHeight é‡Œæ‰“ä¸ªæ–­ç‚¹</span></span><br><span class="line"><span class="comment">// ä¸èƒ½ç»§æ‰¿è¿™ä¸ªç±»ï¼Œä¼šæŠ¥é”™ï¼šhttps://github.com/babel/babel/issues/4269</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableLayout</span> </span>&#123;</span><br><span class="line">    updateHeight() &#123;</span><br><span class="line">        <span class="keyword">debugger</span></span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    extends: ElTable,</span><br><span class="line">    created() &#123;</span><br><span class="line">        <span class="comment">// this.layout åˆ›å»ºæ–¹æ³•è·Ÿå®ƒä¹‹å‰ä¸€è‡´</span></span><br><span class="line">        <span class="comment">// å› ä¸º store ä¹‹å‰å·²ç»ç»‘å®šåœ¨ data ä¸Šäº†ï¼Œæ‰€ä»¥ç°åœ¨åªéœ€å¼•ç”¨ this.store å°±è¡Œäº† </span></span><br><span class="line">        <span class="keyword">this</span>.layout = <span class="keyword">new</span> TableLayout(&#123;</span><br><span class="line">           store: <span class="keyword">this</span>.store,</span><br><span class="line">           table: <span class="keyword">this</span>,</span><br><span class="line">           fit: <span class="keyword">this</span>.fit,</span><br><span class="line">           showHeader: <span class="keyword">this</span>.showHeader</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨å°† my-table.js å¼•å…¥ä½œä¸º Vue ç»„ä»¶ï¼Œå°† <code>el-table</code> æ›¿æ¢æˆ <code>my-table</code>ã€‚åˆ°è¿™é‡Œï¼Œå·²ç»æˆåŠŸåœ¨åˆšæ‰çš„æ–¹æ³•é‡Œæ‰“ä¸Šäº†ä¸€ä¸ªæ–­ç‚¹ã€‚</p>
<p>åˆ‡æ¢åˆ°ä¹‹å‰å‡º BUG çš„åœºæ™¯ï¼ŒæˆåŠŸè¿›å…¥æ–­ç‚¹ï¼Œå•è¡Œè°ƒè¯•ã€‚å‘ç°ç»„ä»¶çš„é«˜åº¦ä¸º 0pxï¼Œå†ä»”ç»†ä¸€çœ‹ï¼Œç«Ÿç„¶æ˜¯ <code>.el-tab-pan</code> è¿™ä¸ªå…ƒç´  <code>display: none</code>ï¼Œå®ƒçš„å­å…ƒç´ è‚¯å®šè·å–ä¸åˆ°é«˜åº¦å•Šã€‚è€Œè¿™ä¸ªå…ƒç´ éšè—åº”è¯¥æ˜¯ <code>el-tabs</code> ç»„ä»¶åˆ‡æ¢æ ‡ç­¾é¡µé€ æˆçš„ã€‚å¾ˆæ˜æ˜¾é”…ä¸åœ¨ <code>el-table</code>ï¼Œè€Œåœ¨ <code>el-tabs</code> å•ŠğŸ‘€ã€‚</p>
<p>é‚£å°±çœ‹ <code>el-tabs</code> ç»„ä»¶çš„æºç å§ (<a href="https://github.com/ElemeFE/element/blob/1.x/packages/tabs/src/tab-pane.vue" target="_blank" rel="noopener">æºç ä¼ é€é—¨</a>)ï¼Œçœ‹åˆ° <code>.el-tab-pane</code> è¿™ä¸ªå…ƒç´ çš„æ˜¾éšæ˜¯é€šè¿‡ <code>v-show=&quot;active&quot;</code> æ§åˆ¶çš„ï¼Œè€Œ <code>active</code> æ˜¯ä¸€ä¸ª Vue çš„è®¡ç®—å±æ€§ï¼Œå°±æ˜¯åˆ¤æ–­å½“å‰çš„é¢æ¿æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ç»ˆäºçŸ¥é“äº†è¿™BUGäº§ç”Ÿçš„åŸå› äº†ã€‚</p>
<h2 id="æ‰€ä»¥ï¼Œç„¶åå‘¢ï¼Ÿ"><a href="#æ‰€ä»¥ï¼Œç„¶åå‘¢ï¼Ÿ" class="headerlink" title="æ‰€ä»¥ï¼Œç„¶åå‘¢ï¼Ÿ"></a>æ‰€ä»¥ï¼Œç„¶åå‘¢ï¼Ÿ</h2><p>Element-UI çš„ <code>el-tabs</code> ç»„ä»¶æ˜¯é€šè¿‡ <code>v-show</code> æ¥æ§åˆ¶æ ‡ç­¾é¡µçš„æ˜¾éšï¼Œè¿™éå¸¸ç®€å•æš´åŠ›ï¼Œä½†åŒæ—¶ä¹Ÿå¯¼è‡´äº†æˆ‘ä»¬åˆšå¼€å§‹è¯´çš„è®¡ç®—é«˜åº¦å¤±æ•ˆè¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å°±è®©æ‰€æœ‰çš„æ ‡ç­¾é¡µä¸‹çš„å†…å®¹éƒ½â€œæ˜¾ç¤ºâ€å‡ºæ¥ï¼Œç„¶åé€šè¿‡ <code>z-index</code> æ¥æ§åˆ¶æ˜¾éšï¼Œæ³¨æ„èƒŒæ™¯ä¸è¦é€æ˜ï¼ˆå½“ç„¶ä¹Ÿæœ‰å…¶ä»–å®ç°æ–¹å¼ï¼Œåªè¦èƒ½è·å–åˆ°è¡¨æ ¼çš„çœŸå®é«˜åº¦å°±è¡Œï¼‰ã€‚ç›´æ¥æ”¹å†™ <code>el-tab-pane</code> ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<p><strong>template éƒ¨åˆ†ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"el-tab-pane"</span> <span class="attr">:style</span>=<span class="string">"paneStyle"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡ŒæŠŠ v-show æ¢æˆç»‘å®šä¸€ä¸ªåŠ¨æ€æ ·å¼ï¼Œç”¨äºåŠ¨æ€è®¾ç½® z-index</p>
<p><strong> script éƒ¨åˆ†ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">'ElTabPane'</span>,</span><br><span class="line"></span><br><span class="line">    componentName: <span class="string">'ElTabPane'</span>,</span><br><span class="line"></span><br><span class="line">    props: &#123;</span><br><span class="line">        label: <span class="built_in">String</span>,</span><br><span class="line">        labelContent: <span class="built_in">Function</span>,</span><br><span class="line">        name: <span class="built_in">String</span>,</span><br><span class="line">        closable: <span class="built_in">Boolean</span>,</span><br><span class="line">        disabled: <span class="built_in">Boolean</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            index: <span class="literal">null</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    computed: &#123;</span><br><span class="line">        isClosable() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.closable || <span class="keyword">this</span>.$parent.closable;</span><br><span class="line">        &#125;,</span><br><span class="line">        active() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.$parent.currentName === (<span class="keyword">this</span>.name || <span class="keyword">this</span>.index);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// è®¾ç½®é¢æ¿çš„ z-index</span></span><br><span class="line">        paneStyle() &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                zIndex: <span class="keyword">this</span>.active ? <span class="number">1</span> : <span class="number">0</span>,</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    mounted() &#123;</span><br><span class="line">        <span class="keyword">this</span>.$parent.addPanes(<span class="keyword">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    destroyed() &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.$el &amp;&amp; <span class="keyword">this</span>.$el.parentNode) &#123;</span><br><span class="line">            <span class="keyword">this</span>.$el.parentNode.removeChild(<span class="keyword">this</span>.$el);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.$parent.removePanes(<span class="keyword">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    watch: &#123;</span><br><span class="line">        label() &#123;</span><br><span class="line">            <span class="keyword">this</span>.$parent.$forceUpdate();</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåœ¨è®¡ç®—å±æ€§è¿™é‡Œæ·»åŠ äº†ä¸€ä¸ª <code>paneStyle</code>ï¼Œç”¨äºåŠ¨æ€è®¾ç½®é¢æ¿çš„æ ·å¼ï¼Œæ¿€æ´»çŠ¶æ€ z-index è®¾ç½®ä¸º1ï¼Œå…¶ä»–æƒ…å†µè®¾ç½®ä¸º0ï¼Œç›¸å½“äºæ¿€æ´»çŠ¶æ€çš„é¢æ¿æ€»æ˜¯åœ¨é¡¶å±‚ã€‚</p>
<p><strong>style éƒ¨åˆ† (scss)</strong></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.el-tabs</span> <span class="selector-class">.el-tabs__content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="selector-class">.el-tab-pane</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç”±äº <code>.el-tabs__content</code> ä¹‹å‰è¢«é‡å†™ä¸º flex å¸ƒå±€ï¼Œæ‰€ä»¥è¿™é‡Œé‡æ–°æ”¹æˆ blockï¼Œç„¶åæŠŠ <code>.el-tab-pane</code> æ”¹æˆç»å¯¹å®šä½ï¼Œæ”¶å·¥ğŸ‘Œã€‚åˆ«å¿˜äº†æŠŠ <code>el-tab-pane</code> æ¢æˆé‡å†™ä¹‹åçš„ã€‚</p>
<h2 id="æ¥ç‚¹æ„Ÿæƒ³"><a href="#æ¥ç‚¹æ„Ÿæƒ³" class="headerlink" title="æ¥ç‚¹æ„Ÿæƒ³"></a>æ¥ç‚¹æ„Ÿæƒ³</h2><p>é¦–å…ˆï¼Œelement-uiçš„å‘æœ‰ç‚¹å¤šï¼Œç›¸ä¿¡æ¯ä¸ªæ¡†æ¶éƒ½æœ‰å„ç§å‘ï¼Œæˆ‘ä»¬è¸©å‘çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ç»™è‡ªå·±æ¶¨ç»éªŒã€‚æ‰€ä»¥ï¼Œä¸è¦æ€•è¸©å‘ã€‚è¿˜æœ‰ä¸€ç‚¹æˆ‘æƒ³è¯´çš„å°±æ˜¯ï¼Œä¸è¦æ€•çœ‹æºç ï¼Œæºç æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆå¯æ€•ã€‚å¤šçœ‹çœ‹æºç å¯ä»¥å¯¹è‡ªå·±çš„æå‡è‚¯å®šæ˜¯æœ‰å¥½å¤„çš„ï¼ˆå¥½åƒåˆæ˜¯ä¸€å¥åºŸè¯ğŸ˜ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ã€€ã€€ â”â”“ã€€ â”â”“+ +</span><br><span class="line">ã€€ã€€â”â”›â”»â”â”â”â”›â”»â”“ + +</span><br><span class="line">ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€â”ƒ ã€€</span><br><span class="line">ã€€ã€€â”ƒã€€ã€€ã€€â”ã€€ã€€ â”ƒ ++ + + +</span><br><span class="line">ã€€ â–ˆâ–ˆâ–ˆâ–ˆâ”â–ˆâ–ˆâ–ˆâ–ˆ  â”ƒ+</span><br><span class="line">ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€â”ƒ +</span><br><span class="line">ã€€ã€€â”ƒã€€ã€€ã€€â”»ã€€ã€€ã€€â”ƒ</span><br><span class="line">ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€â”ƒ + +</span><br><span class="line">ã€€ã€€â”—â”â”“ã€€ã€€ã€€â”â”â”›</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒ + + + +</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒã€€ã€€ã€€ã€€Code is far away from bug with the animal protectingã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒ + ã€€ã€€ã€€ã€€ç¥å…½ä¿ä½‘,ä»£ç æ— bugã€€ã€€</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒ</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ã€€ã€€â”ƒã€€ã€€+ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">ã€€ã€€ã€€ â”ƒã€€ ã€€ â”—â”â”â”â”“ + +</span><br><span class="line">ã€€ã€€ã€€ â”ƒ ã€€ã€€ã€€ã€€   â”£â”“</span><br><span class="line">ã€€ã€€ã€€ â”ƒ ã€€ã€€ã€€ã€€ã€€ â”â”›</span><br><span class="line">ã€€ã€€ã€€ â”—â”“â”“â”â”â”³â”“â”â”› + + + +</span><br><span class="line">ã€€ã€€ã€€  â”ƒâ”«â”« â”ƒâ”«â”«</span><br><span class="line">ã€€ã€€ã€€  â”—â”»â”› â”—â”»â”›+ + + +</span><br></pre></td></tr></table></figure>
      

      
        
    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/05/22/Vueå•å…ƒæµ‹è¯•â€”â€”Jestå…¥é—¨/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Vueå•å…ƒæµ‹è¯•â€”â€”Jestå…¥é—¨
        
      </div>
    </a>
  
  
    <a href="/2018/04/27/JavaScriptå°æ•°ç²¾åº¦å¡«å‘/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">JavaScriptå°æ•°ç²¾åº¦å¡«å‘</div>
    </a>
  
</nav>

  
</article>


<div id="comments">
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script>
    new Valine({
        el: '#comments' ,
        notify: false, 
        verify: false, 
        appId: '5Dw1gz59PawojUDlQTAWvCv3-gzGzoHsz',
        appKey: 'r0Yr9THgKOl8aa1zR0pBlcFS',
        placeholder: 'leave something',
        path: window.location.pathname, 
        avatar: 'mm',
        guest_info:['nick']
    });
  </script>
</div>

</section>
        <aside id="sidebar">
  <nav class="menus">
  	<ul>
  		<li><a href="/"><i class="icon icon-home"></i></a></li>
  		
			<li><a href="/archives"><i class="icon icon-fenlei"></i></a></li>
  		
  		
			<li><a href="/tags"><i class="icon icon-tag"></i></a></li>
  		
  		
  			<li><a href="https://github.com/peakchen90" target="_blank"><i class="icon icon-github"></i></a></li>
  		
  	</ul>
  </nav>
  <a id="go-top" href="#"><i class="icon icon-up"></i></a>
</aside>

      </div>
      <footer id="footer">
  
	<div id="footer-info" class="inner">
	  &copy; 2018 Jerry Chen 
	  - Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	  - Theme <a href="https://github.com/hejianxian/hexo-theme-jane/" target="_blank">Jane</a>
	</div>
</footer>

<!-- ç™¾åº¦ç»Ÿè®¡ -->
<script>
	var _hmt = _hmt || [];
	(function() {
		var host = window.location.host
		if(host.indexOf('localhost') === 0 || host.indexOf('127.0.0.1') === 0) return;
		var hm = document.createElement("script");
		hm.src = "https://hm.baidu.com/hm.js?495c1c38b2ff9417f6fe3991c20af37d";
		var s = document.getElementsByTagName("script")[0]; 
		s.parentNode.insertBefore(hm, s);
	})();
</script>
		
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tag</a>
  
    <a href="https://github.com/peakchen90" class="mobile-nav-link">Github</a>
  
</nav>
    

<script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>